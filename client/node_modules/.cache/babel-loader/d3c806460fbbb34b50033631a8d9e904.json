{"ast":null,"code":"var _jsxFileName = \"D:\\\\agro\\\\rabbitmart-master\\\\client\\\\src\\\\pages\\\\checkout\\\\success.js\",\n    _s = $RefreshSig$();\n\nimport { useNavigate, useSearchParams } from \"react-router-dom\";\nimport Loading from \"../../components/loading/Loading\";\nimport { useEffect } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { fetchOrder } from \"../../actions/orders\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Success = _ref => {\n  _s();\n\n  let {\n    setCart\n  } = _ref;\n  const order_id = useSearchParams()[0].get('order');\n  const navigate = useNavigate();\n  const dispatch = useDispatch();\n  useEffect(() => {\n    const onSuccess = () => {\n      navigate(`/orders/${order_id}`);\n      setCart([]);\n      localStorage.removeItem('cart');\n    };\n\n    const onError = () => {\n      window.location.reload();\n    };\n\n    dispatch(fetchOrder(order_id, onSuccess, onError));\n  }, [dispatch, navigate, order_id, setCart]);\n  return /*#__PURE__*/_jsxDEV(Loading, {\n    text: 'Processing'\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 27,\n    columnNumber: 12\n  }, this);\n};\n\n_s(Success, \"1//0nAE6cNz9qOK8PWyWDYNQ9X8=\", false, function () {\n  return [useSearchParams, useNavigate, useDispatch];\n});\n\n_c = Success;\nexport default Success;\n\nvar _c;\n\n$RefreshReg$(_c, \"Success\");","map":{"version":3,"names":["useNavigate","useSearchParams","Loading","useEffect","useDispatch","fetchOrder","Success","setCart","order_id","get","navigate","dispatch","onSuccess","localStorage","removeItem","onError","window","location","reload"],"sources":["D:/agro/rabbitmart-master/client/src/pages/checkout/success.js"],"sourcesContent":["import {useNavigate, useSearchParams} from \"react-router-dom\";\nimport Loading from \"../../components/loading/Loading\";\nimport {useEffect} from \"react\";\nimport {useDispatch} from \"react-redux\";\nimport {fetchOrder} from \"../../actions/orders\";\n\nconst Success = ({setCart}) => {\n\n    const order_id = useSearchParams()[0].get('order');\n    const navigate = useNavigate();\n    const dispatch = useDispatch();\n\n    useEffect(() => {\n        const onSuccess = () => {\n            navigate(`/orders/${order_id}`);\n            setCart([]);\n            localStorage.removeItem('cart');\n        }\n\n        const onError = () => {\n            window.location.reload();\n        }\n\n        dispatch(fetchOrder(order_id, onSuccess, onError));\n    }, [dispatch, navigate, order_id, setCart])\n\n    return <Loading text={'Processing'}/>\n}\n\nexport default Success;"],"mappings":";;;AAAA,SAAQA,WAAR,EAAqBC,eAArB,QAA2C,kBAA3C;AACA,OAAOC,OAAP,MAAoB,kCAApB;AACA,SAAQC,SAAR,QAAwB,OAAxB;AACA,SAAQC,WAAR,QAA0B,aAA1B;AACA,SAAQC,UAAR,QAAyB,sBAAzB;;;AAEA,MAAMC,OAAO,GAAG,QAAe;EAAA;;EAAA,IAAd;IAACC;EAAD,CAAc;EAE3B,MAAMC,QAAQ,GAAGP,eAAe,GAAG,CAAH,CAAf,CAAqBQ,GAArB,CAAyB,OAAzB,CAAjB;EACA,MAAMC,QAAQ,GAAGV,WAAW,EAA5B;EACA,MAAMW,QAAQ,GAAGP,WAAW,EAA5B;EAEAD,SAAS,CAAC,MAAM;IACZ,MAAMS,SAAS,GAAG,MAAM;MACpBF,QAAQ,CAAE,WAAUF,QAAS,EAArB,CAAR;MACAD,OAAO,CAAC,EAAD,CAAP;MACAM,YAAY,CAACC,UAAb,CAAwB,MAAxB;IACH,CAJD;;IAMA,MAAMC,OAAO,GAAG,MAAM;MAClBC,MAAM,CAACC,QAAP,CAAgBC,MAAhB;IACH,CAFD;;IAIAP,QAAQ,CAACN,UAAU,CAACG,QAAD,EAAWI,SAAX,EAAsBG,OAAtB,CAAX,CAAR;EACH,CAZQ,EAYN,CAACJ,QAAD,EAAWD,QAAX,EAAqBF,QAArB,EAA+BD,OAA/B,CAZM,CAAT;EAcA,oBAAO,QAAC,OAAD;IAAS,IAAI,EAAE;EAAf;IAAA;IAAA;IAAA;EAAA,QAAP;AACH,CArBD;;GAAMD,O;UAEeL,e,EACAD,W,EACAI,W;;;KAJfE,O;AAuBN,eAAeA,OAAf"},"metadata":{},"sourceType":"module"}